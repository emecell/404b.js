(function(){function n(){m=o("div",C,L),T=o("h2",M),T.innerHTML="404b: scanning...",m.appendChild(T),b=o("span",w,{onclick:t}),b.innerHTML="close",T.appendChild(b),g=o("ul",H),m.appendChild(g),document.body.appendChild(m),e(++h)}function e(n){if(s.length>n){var o=s[n],t=a(o);!f[t]&&d(t)?(f[t]=!0,l(t)?p(t,o):c(t,o)):e(++h)}else{var i=0;for(var r in f)f.hasOwnProperty(r)&&i++;T.innerHTML="404b: scanned ["+i+"] links",T.appendChild(b)}}function o(n,e,o){var t=document.createElement(n);if(e&&i(t,e),o)for(var r in o)t[r]=o[r];return t}function t(){document.body.removeChild(m);for(var n=0;v.length>n;n++){var e=v[n];e.parentNode.removeChild(e)}}function i(n,e){for(var o in e)n.style[o]=e[o]}function r(n,e){var t=o("li",y),i=o("a",k),r=o("span",B);return r.innerHTML=e?e:" loading...",i.innerHTML=i.href=n,i.target="_blank",t.appendChild(i),t.appendChild(r),g.appendChild(t),r}function a(n){return n.href?n.href:n.src}function d(n){return/^https?/.test(n)||/^\//.test(n)||!/:/.test(n)}function l(n){var e=window.location.hostname,o=n.replace(/^https?:\/\//,"");return 0===n.indexOf("/")||0===o.indexOf(e)}function p(n,o){var t=new XMLHttpRequest,a=r(n),d=null,l=function(){clearTimeout(d),t.abort(),i(a,E),a.innerHTML="TIMEOUT (xhr)",e(++h)},p=function(){4===t.readyState&&(clearTimeout(d),200!==t.status?(i(a,O),a.innerHTML="FAIL ("+t.status+")",console.dir(o)):(i(a,S),a.innerHTML="OK ("+t.status+")"),e(++h))};t.onreadystatechange=p,d=setTimeout(l,x),t.open("GET",n,!0),t.send()}function c(n,t){var a=r(n),d=o("link"),l=document.getElementsByTagName("head")[0],p=null,c=function(){clearTimeout(p),i(a,E),a.innerHTML="TIMEOUT (xdomain)",e(++h)},u=function(){clearTimeout(p),i(a,S),a.innerHTML="OK (xdomain)",e(++h)},s=function(){clearTimeout(p),i(a,O),a.innerHTML="FAIL (xdomain)",console.dir(t),e(++h)};d.rel="stylesheet",d.type="text/css",d.href=n,d.media="none",d.onload=u,d.onerror=s,v.push(d),p=setTimeout(c,x),l.appendChild(d)}var u="_404bresults",s=document.links,f={},h=-1,x=1e4,m=document.getElementById(u),g=null,T=null,b=null,v=[],L={id:u},C={position:"fixed",maxHeight:"300px",minWidth:"200px",overflowY:"scroll",padding:"8px 10px",margin:"0",right:"10px",top:"10px",width:"auto",zIndex:99999,textAlign:"left",lineHeight:1.5,backgroundColor:"rgba(0, 0, 0, 0.7)",borderTop:"solid 1px rgba(255, 255, 255, 0.4)",borderLeft:"solid 1px rgba(0, 0, 0, 0.8)",borderRight:"solid 1px rgba(0, 0, 0, 0.8)",borderBottom:"solid 1px #000",BorderRadius:"5px",MozBorderRadius:"5px",WebkitBorderRadius:"5px",textShadow:"0 1px 0 #000",BoxShadow:"0 -1px 0 #000",MozBoxShadow:"0 -1px 0 #000",WebkitBoxShadow:"0 -1px 0 #000"},M={font:"bold 14px Lucida Grande",margin:"0 0 5px 0",padding:"0",color:"#fff",fontWeight:"bold",clear:"both"},w={font:"normal 11px Lucida Grande",cursor:"pointer","float":"right"},H={margin:"0",padding:"0"},y={listStyleType:"none",margin:"0",padding:"0"},k={font:"normal 11px Lucida Grande",textDecoration:"underline",color:"#fff",display:"inline-block",width:"300px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},B={font:"bold 11px Lucida Grande",color:"#FFCC00"},O={color:"#CC0000"},S={color:"#33CC33"},E={color:"#FF9900"};m?t():n()})();